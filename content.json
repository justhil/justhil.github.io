{"meta":{"title":"justhil's blog","subtitle":"","description":"å†™ç‚¹å°äº‹","author":"justhil","url":"http://example.com","root":"/"},"pages":[],"posts":[{"title":"Exl2æ¨¡å‹åŠ è½½å™¨tabbyAPIéƒ¨ç½²","text":"windowsä¸‹ Exl2æ¨¡å‹åŠ è½½å™¨tabbyAPIéƒ¨ç½² å‡†å¤‡å·¥ä½œä¸€å—æ”¯æ’‘å¾—èµ·ä½ æƒ³ä½¿ç”¨æ¨¡å‹æ¶ˆè€—çš„æ˜¾å¡ 16gä»¥ä¸Šçš„å†…å­˜ Python 3.11 tabbyAPIçš„æºç  ä½ å¯ä»¥ä½¿ç”¨[git](git clone https://github.com/theroyallab/tabbyAPI) ä¹Ÿå¯ä»¥ç½‘é¡µä¸‹è½½æºç å‹ç¼©åŒ…è§£å‹ åŠ è½½æ¨¡å‹å‰æ­¥éª¤åŒå‡»start.batï¼Œæ ¹æ®å±å¹•æç¤ºé€‰æ‹©é€‰é¡¹ã€‚ åŠ è½½æ¨¡å‹ä½ å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰¾åˆ°config.ymlä¸config_sample.yml,å¦‚æœå‰è€…ä¸ºç©ºå¯ä»¥å¤åˆ¶åè€…å†…å®¹è‡³config.yml. ä»¥ä¸‹ä¸ºæ–‡ä»¶å†…é‡è¦éƒ¨åˆ†ç¤ºä¾‹,ä½¿ç”¨æœç´¢åŠŸèƒ½å¿«é€Ÿå®šä½ä¿®æ”¹,å…¶ä½™ä¿æŒé»˜è®¤å³å¯. 123456789101112131415161718 # ä¸»æœº IP # ä½¿ç”¨ 0.0.0.0 å¯åœ¨æ‰€æœ‰ç½‘ç»œé€‚é…å™¨ä¸Šå¼€æ”¾æœåŠ¡ host: 127.0.0.1 # ç«¯å£å· port: XXXX # å…³é—­å¯†åŒ™è®¤è¯ æœ¬åœ°ä½¿ç”¨æ¨èå…³é—­ å…¬ç½‘ä½¿ç”¨åŠ¡å¿…å¼€å¯ disable_auth: XXXX # æ¨¡å‹æŸ¥æ‰¾ç›®å½• æ ¹ç›®å½•ä¸‹çš„ç›®å½•ç›´æ¥å¡«å†™ç›®å½•å model_dir: XXXX # åŠ è½½çš„æ¨¡å‹ # å¿…å¡«ï¼šå¯åŠ¨æ—¶åŠ è½½æ¨¡å‹å¿…é¡»å¡«å†™æ­¤é¡¹ model_name: XXXX # ç¼“å­˜æ¨¡å¼ # å¯é€‰å€¼: &#x27;FP16&#x27;, &#x27;Q8&#x27;, &#x27;Q6&#x27;, &#x27;Q4&#x27; #æ¨èQ4æœ€çœæ˜¾å­˜ cache_mode: XXXX max_seq_len: æœ€å¤§ä¸Šä¸‹æ–‡é•¿åº¦ è¶Šå¤§ä¸Šä¸‹æ–‡è¶Šå¤§è¶Šå æ˜¾å­˜chunk_size:å¤„ç†ä¸Šä¸‹æ–‡çš„é€Ÿåº¦ è¶Šå¤§è¶Šå¿«è¶Šå æ˜¾å­˜ å…³äºæ¨¡å‹å­˜æ”¾æ ¼å¼é»˜è®¤ç›®å½•ä¸ºæ ¹ç›®å½•ä¸‹çš„modelsæ–‡ä»¶å¤¹ï¼Œä»hfç«™ä¸‹è½½çš„æ¨¡å‹è¯·æŒ‰ç…§æ ¹ç›®å½•&gt;&gt;models&gt;&gt;æ¨¡å‹åç§°æ–‡ä»¶å¤¹&gt;&gt;æ¨¡å‹æœ¬ä½“ä¸å…¶ä»–æ–‡ä»¶çš„å½¢å¼æ”¾å¥½ å¯åŠ¨ï¼ï¼å†æ¬¡åŒå‡»start.batç­‰å¾…åŠ è½½å®Œæˆ å…³äºæ¥å…¥é…’é¦†tabbyAPIä½¿ç”¨OpenAI API æ‰€ä»¥ä½ å¯ä»¥ä½¿ç”¨http://localhost:xxxx/v1ä½œä¸ºAPI URL å…³äºæŠ¥é”™å¦‚æœå‡ºç°è¯¸å¦‚out of memoryç­‰æç¤ºåˆ™æ˜¯æ˜¾å­˜ä¸è¶³,å¯ä»¥é€šè¿‡å‡å°max_seq_lenå’Œchunk_sizeå‡å°æ˜¾å­˜å ç”¨.","path":"2024/11/11/Exl2æ¨¡å‹åŠ è½½å™¨tabbyAPIéƒ¨ç½²/","date":"11-11","excerpt":"","tags":[{"name":"Exl2,tabbyAPI,è¯­è¨€æ¨¡å‹","slug":"Exl2-tabbyAPI-è¯­è¨€æ¨¡å‹","permalink":"http://example.com/tags/Exl2-tabbyAPI-%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/"}]},{"title":"åå†œæ ¡å›­ç½‘æŒ‡å—","text":"åå†œæ ¡å›­ç½‘æŠ˜è…¾æŒ‡å—å…ˆä¸Šå•ç½‘å£ç½‘é€Ÿå›¾ å†ä¸Šå•ç½‘å£åŠ wifiç½‘é€Ÿå›¾ é¦–å…ˆå‡†å¤‡å¯ä»¥åˆ·openwrtçš„è·¯ç”±å™¨å¹¶åœ¨ç¼–è¯‘å›ºä»¶æ—¶åŠ å…¥ 1mentohust luci ua2f luci-app-ua2f iptables-mod-filter iptables-mod-ipopt iptables-mod-u32 iptables-mod-conntrack-extra kmod-ipt-u32 kmod-ipt-ipopt luci-app-mwan3 å…ˆè¯´å ç½‘é€Ÿç½‘å£è®¾ç½®å…ˆç½‘çº¿æ¥ä¸Šè·¯ç”±å™¨wanå£ è¿›å…¥openwrtåè¿›å…¥mentohust Usernameï¼ˆè´¦å·ï¼‰å¤„å¡«å†™å­¦å·@æœ‰çº¿1xä¸Šç½‘ Passwordå¡«æ ¡å›­ç½‘å¯†ç ï¼ˆé»˜è®¤æ˜¯å­¦å·ï¼‰ æ³¨æ„Interfacesï¼ˆæ¥å£ï¼‰å¡«wanå£çš„ç‰©ç†æ¥å£ é«˜çº§è®¾ç½®é»˜è®¤å°±å¥½ï¼Œç„¶åå¼€å§‹è®¤è¯ WiFiè®¾ç½®æ³¨æ„å¤§éƒ¨åˆ†openwrté»˜è®¤çš„è½¯ä»¶åŒ…ä¸­ä½¿ç”¨çš„éƒ½æ˜¯wpadçš„ç²¾ç®€ç‰ˆæ²¡æœ‰wpa2-eapåè®®æ‰€ä»¥åœ¨ç¼–è¯‘æ—¶éœ€è¦æ›´æ”¹ä¸ºï¼ˆwpadï¼‰ ä½ ğŸ‰çš„wifiæœ‰ä¸¤ç§è®¤è¯æ–¹å¼ï¼Œæ²¡æœ‰1xåç¼€çš„ä¸ºç½‘é¡µè®¤è¯ï¼Œæœ‰1xåç¼€çš„æ˜¯å¯ä»¥é¢„å…ˆè®¤è¯çš„ï¼ˆwpa2-eapï¼‰ ç‚¹å‡»radio1(5g)çš„scan(æ‰«æ)è¿æ¥SCAUNET_1x åˆ†é…networkä¸ºwwan identityä¸ºå­¦å·passwordæ˜¯å¯†ç ï¼ˆé»˜è®¤æ˜¯å­¦å·ï¼‰ è¿æ¥åæ”¾ä¸€è¾¹å¤‡ç”¨ è´Ÿè½½å‡è¡¡ çœ‹å›¾ åŒçº¿å åŠ  å†è¯´ç ´è§£è¿æ¥è®¾å¤‡é™åˆ¶å…ˆäººçš„æ™ºæ…§EOYOHOO&#x2F;Campus-network: ä½¿ç”¨openwrtè·¯ç”±è¿‡æ ¡å›­ç½‘å¤šè®¾å¤‡æ£€æµ‹ï¼ˆéç ´è§£ï¼‰ ï¼ˆå®¿èˆå…±ç½‘ï¼‰ (github.com) å·²çŸ¥â€ğŸ‰ä½¿ç”¨çš„ä¸æ˜¯åŸºäº IPv4 æ•°æ®åŒ…åŒ…å¤´å†…çš„ Identification å­—æ®µçš„æ£€æµ‹ æ‰€ä»¥ä¸ç”¨è£…kmod-rkp-ipidï¼Œè¿™æ®µè§„åˆ™ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051iptables -t nat -A PREROUTING -p udp --dport 53 -j REDIRECT --to-ports 53iptables -t nat -A PREROUTING -p tcp --dport 53 -j REDIRECT --to-ports 53# é€šè¿‡ rkp-ipid è®¾ç½® IPID# è‹¥æ²¡æœ‰åŠ å…¥rkp-ipidæ¨¡å—ï¼Œæ­¤éƒ¨åˆ†ä¸éœ€è¦åŠ å…¥iptables -t mangle -N IPID_MODiptables -t mangle -A FORWARD -j IPID_MODiptables -t mangle -A OUTPUT -j IPID_MODiptables -t mangle -A IPID_MOD -d 0.0.0.0/8 -j RETURNiptables -t mangle -A IPID_MOD -d 127.0.0.0/8 -j RETURN#ç”±äºæœ¬æ ¡å±€åŸŸç½‘æ˜¯Aç±»ç½‘ï¼Œæ‰€ä»¥æˆ‘å°†è¿™ä¸€æ¡æ³¨é‡Šæ‰äº†ï¼Œå…·ä½“è¦ä¸è¦æ³¨é‡Šç»“åˆä½ æ‰€åœ¨çš„æ ¡å›­ç½‘# iptables -t mangle -A IPID_MOD -d 10.0.0.0/8 -j RETURNiptables -t mangle -A IPID_MOD -d 172.16.0.0/12 -j RETURNiptables -t mangle -A IPID_MOD -d 192.168.0.0/16 -j RETURNiptables -t mangle -A IPID_MOD -d 255.0.0.0/8 -j RETURNiptables -t mangle -A IPID_MOD -j MARK --set-xmark 0x10/0x10# é˜²æ—¶é’Ÿåç§»æ£€æµ‹iptables -t nat -N ntp_force_localiptables -t nat -I PREROUTING -p udp --dport 123 -j ntp_force_localiptables -t nat -A ntp_force_local -d 0.0.0.0/8 -j RETURNiptables -t nat -A ntp_force_local -d 127.0.0.0/8 -j RETURNiptables -t nat -A ntp_force_local -d 192.168.0.0/16 -j RETURNiptables -t nat -A ntp_force_local -s 192.168.0.0/16 -j DNAT --to-destination 192.168.1.1# é€šè¿‡ iptables ä¿®æ”¹ TTL å€¼ æ•°å­—ä¸ºéœ€è¦çš„ä¿®æ”¹çš„ttlå€¼iptables -t mangle -A POSTROUTING -j TTL --ttl-set 64# iptables æ‹’ç» AC è¿›è¡Œ Flash æ£€æµ‹iptables -I FORWARD -p tcp --sport 80 --tcp-flags ACK ACK -m string --algo bm --string &quot; src=\\&quot;http://1.1.1.&quot; -j DROP ä¸­çš„ 1234567891011# è‹¥æ²¡æœ‰åŠ å…¥rkp-ipidæ¨¡å—ï¼Œæ­¤éƒ¨åˆ†ä¸éœ€è¦åŠ å…¥iptables -t mangle -N IPID_MODiptables -t mangle -A FORWARD -j IPID_MODiptables -t mangle -A OUTPUT -j IPID_MODiptables -t mangle -A IPID_MOD -d 0.0.0.0/8 -j RETURNiptables -t mangle -A IPID_MOD -d 127.0.0.0/8 -j RETURN ä¸ç”¨åŠ å…¥ï¼ è‡³æ­¤å®Œå…¨ä½“","path":"2024/10/22/åå†œæ ¡å›­ç½‘æŒ‡å—/","date":"10-22","excerpt":"","tags":[]},{"title":"Welcome!","text":"æœ¬ç«™ä½œä¸ºä¸ªäººç½‘ç«™éƒ¨åˆ†åˆ›ä½œå†…å®¹ä¸ºä¸ªäººæ‰€æœ‰è½¬è½½è¯·æ ‡æ˜å‡ºå¤„ï¼","path":"2024/10/13/hello-world/","date":"10-13","excerpt":"","tags":[]}],"categories":[],"tags":[{"name":"Exl2,tabbyAPI,è¯­è¨€æ¨¡å‹","slug":"Exl2-tabbyAPI-è¯­è¨€æ¨¡å‹","permalink":"http://example.com/tags/Exl2-tabbyAPI-%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/"}]}